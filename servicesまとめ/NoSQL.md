# AWS データベース  
AWS データベースでは、サーバーのプロビジョニング、パッチ設定、設定、バックアップなどのデータ管理タスクについて心配する必要はないフルマネージド型。  

安全で高い可用性、信頼性、セキュリティを実現する。
|  サービス名  |  タイプ  |
| -- | -- |
|  Aurora  |  リレーショナル  |
|  RDS  |  リレーショナル  |
|  Redshift  |  リレーショナル  |
|  ElasticCache  |  インメモリ  |
|  DynamoDB  |  キー値  |
|  DocumnentDB(MongoDB)  |  ドキュメント  |
|  Keyspaces  |  ワイドカラム  |
|  Neptune  |  グラフ  |
|  Timestream  |  時系列  |
|  QLBD  |  台帳  |  



# Amazon DynamoDB  
規模に関係なく数ミリ秒台のパフォーマンスを実現するkey-valueおよびドキュメントデータベース。これはフルマネージド型でマルチリージョン、マルチアクティブで耐久性があるデータベースであり、セキュリティ、バックアップと復元、インターネット規模のアプリケーション用のインメモリキャッシュが組み込まれている。  
1日に10兆件以上のリクエストを処理することができ毎秒2000万件を超える陸エアストをサポートする。  
自動的に3つのAZに保存される仕組みになっているため非常に可用性が高い

JSON形式のデータを保存・処理するドキュメント型データベースとして利用することが可能


DynamoDBは複雑なトランザクション処理が発生する業務システムには利用すべきではない。DynamoDBはNoSQLデータベースであるため、JOIN／TRANSACTION／COMMIT／ROLLBACKが必要な複雑な処理には向いていない。  

テーブルで読み込み及び書き込みを処理するための読み込み/書き込みキャパシティーモードが2つある。
- オンデマンド  
- プロビジョニング済み(ディフォルト、無料利用枠)
利用不可があらかじめ予測できる場合はプロビジョンドスループットを選択。利用不可があらかじめ予測できない場合はオンデマンドキャパシティーモードを選択する。
  
  
結果整合性のデータモデルを採用している。
## スループットキャパシティ  
テーブルやインデックスを作成する際に読み取りと書き取込みに必要なスループットを指定する。  

- Read Capacity Unit(RCU)・・・読み取りのスループットキャパシティを指定する指標。  
- Write Capacity Unit(WCU)・・・書き込みのスループットキャパシティを指定する指標。  
スループットキャパシティの変更は増加させるのには制限がないが、現象に関しては1日に9回まで  

負荷の状況に応じてスループットキャパシティを自動的に増減することができる。1日のうちでスループットに変化がある場合に指定することで、非常高スループっとなキャパシティを確保しておく必要がなくなるため、コストメリットがある。   

## データパーティショニング  
DynamoDBはデータをパーティションという単位で分散保存する。1つのパーティションに対して保存できる容量やスループットキャパシティが決まっているため、データの増加や指定したスループットのサイズによって最適化された状態を保つようにパーティションを拡張する。

## DynamoDB Accelerator（DAX)  
フルマネージドのインメモリキャッシュを使用できるようにしてテーブルから読み取りパフォーマンスを大幅に向上させるインメモリキャッシュ。DAXは1秒当たり100万単位のリクエストを処理する場合でも最大で10倍の読み取りパフォーマンスの向上を実現する。  

キャッシュデータを取得することで既存のDynamoDBテーブルでの読み込み負荷を軽減できるため読み込みキャパシティーのプロビジョニングを提言し、全体の運用コストを削減できる可能性がある。


VPC環境で動作するように設計されている。


## グローバルテーブル  
大規模なグローバルアプリケーションのローカルでの高速な読み取りおよび書き込みパフォーマンスを実現するフルマネージドのマルチリージョン、マルチアクティブのグローバルデータベースを提供する。グローバルテーブルは選択するAWSリージョン全体にわたってDynamoDBテーブルを自動的にレプリケートする。


これにより、レプリケーションプロセスを管理することなく、高速で大規模にスケールされたグローバル規模のアプリケーションを構築できる。DynamoDBによるクロスリージョンレプリケーションを実行するためには、まずはDynamoDB Streamsを有効化する必要がある。　  
  
## DynamoDBストリーム
データベースに保存されたデータ項目に対する追加・変更・削除の発生時に履歴を保持するためにDynamoDBストリームを利用できる。DynamoDBテーブルに保存された項目の変更をキャプチャすることができる。DynamoDBストリームはDynamoDBテーブル内の項目レベルの変更の時系列シーケンスをキャプチャし、この情報を最大24時間ログに保存する。
  
  
## 料金  
テーブル内のデータの読み取り、書き込み、保存に加え、有効化したオプション機能が課金対象となる。  
オンデマンドとプロビジョニング済みという2つのキャパシティモードがあり、それぞれのモードにおけるテーブルの読み書き処理について別個の請求オプションがある。

 



  
# ElasticCache  
Amazon Elastic Cacheを使用するとクラウド内の人気のオープンソース互換のインメモリデータストアをシームレスにセットアップ、実行、およびスケーリングできる。高スループットかつ低レイテンシーなインメモリデータストアからデータを取得して大量のデータを扱うアプリケーションを構築したり、既存のアプリケーションのパフォーマンスを改善したりすることが可能。  
ミリ秒未満の応答時間が必要な最も要求の激しいアプリケーション向けにkン前マネージド型のRedisおよびMemcachedを提供する。  

## Elastic for Redis  
ミリ秒レイテンシーを実現する非常に高速なインメモリデータストアでインターネット規模のリアルタイムアプリケーションを強化できる。  
Redis は、広く採用されているインメモリデータストア。データベース、キャッシュ、メッセージブローカー、キュー、セッションストア、スコアボードなどに使用されている。Amazon ElastiCache for Redis には、オープンソース Redis のデータ形式、および、Redis API との互換性を備わっているので、Redis クライアントとの連携が可能  

シングルスレッドなので1コアで動作する

### クラスタ構成とスケーリング  
クラスタモードの有効・無効に応じて冗長化の構成が変わる。  

- クラスタモード無効・・・クラスタモードが無効の場合、キャッシュデータはすべてつのElasticCacheインスタンスに保存される。また同じデータを持つリードレプリカを最大5つまで作成できる。1つのマスターインスタンスとリードレプリカのまとまりをシャードと呼ぶ  

- クラスタモード有効・・・クラスタモードが有効の場合は最大500のシャードにデータを分割して保存する構成が可能。リードレプリカは1つのシャードに対して最大5つまで作成できる。データを分散することでRead/Writeの負荷分散構成を作成することが可能。

- ノードエンドポイントはクラスタ内の各ノードに個別にアクセスするためのエンドポイント。有効でも向こうでも使える。  
- 設定エンドポイントはクラスタ全体に割り当てられるエンドぽインチ。クラスタ内のノードの増減を管理し、クラスタ内の構成情報を自動的に更新する。有効の場合に使える   
- プライマリエンドポイントは書き込み処理用のElasticCacheインスタンスへアクセスするためのエンドポイント。向こうの場合に利用できる  

スケーリング中は処理の大部分がオフラインとなるので、スケーリングは計画を立てて行う必要がある。  

またデータの暗号化はRedisのみ対応している


## ElasticCache for Memcached  
Memcachedと互換性のあるインメモリkey-valueストアサービスでキャッシュやデータストアとして使用できる。 　  
インメモリキャッシュの実装によるアクセスレイテンシーの減少、スループットの向上、リレーショナルデータベースや NoSQL データベースの負荷軽減を実現する優れた方法  

### クラスタ構成とスケーリング  
Memcachedクラスタは最大20のElasticCacheインスタンスで構成される。クラスタ内のオゾンされるデータは各インスタンスに分散される。クラスタを複数インスタンスで作成するときは可用性を考慮して複数のAZにElasticCacheインスタンスを作成するようにする。  
クラスタを作成すると2種類のアクセス用エンドポイントが作成される。  

- ノードエンドポイントはクラスタ内の各ノードに個別にアクセスするためのエンドポイント。
- 設定エンドポイントはクラスタ全体に割り当てられるエンドぽインチ。クラスタ内のノードの増減を管理し、クラスタ内の構成情報を自動的に更新する。  
  

- スケールアウトとスケールン・・・ノード数を増減させたい場合、正しいノードにデータが再マッピングされるまでの間、キャッシュミスが一時的に増加することがある  
- スケールアップとスケールダウン・・・新規のクラスタを作成する必要がある  



## Amazon Neptune  
グラフデータサービス。ノード、エッジ、プロパティの3つの用のによって構成されていて、ノード間の関係性を表す。  

## Amazon DocumentDB  
フルマネージドなMongoDB互換のドキュメントデータベースのサービス。　　

## Amazon Keyspaces  
フルマネージドなApache Cassandra互換のデータベースサービス。Cassandraは列志向データと行志向データの両方向の特徴を兼ね備えているので、検索性能も高く任意のデータをまとめて取ってくるといったことも得意としている  

## Amazon Timestream  
フルマネージドな時系列データベースサービス。  

## Amazon QLDB  
Amazon Quantum Ledger Databaseはフルマネージドな台帳データベース。