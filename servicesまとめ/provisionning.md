# CloudFormation  
Infrastructure as Codeを実現することによりAWSやサードパーティーの関連するリソースのコレクションをモデリング氏、迅速に一貫してプロビジョニングし、ライフサイクル全体で管理することが容易になる。必要なリソースとその依存関係をCloudFormationテンプレートに記述すれば1つのスタックとして一括で起動し、設定できる。必要な時にはいつでもテンプレートを使用して、スタック全体を1つのユニットとして作成、更新、削除できる。リソースを個別に管理する必要はない。  
  

## CloudFormationスタック  
CloudFormationスタックという集合にまとめられる。テンプレートを修正し、スタックを指定して再度適用するということでスタック上のAWSリソースの設定を変更したり、リソースを削除したりできる。  
同一システム内でテンプレートを分割することで、複数のスタックにリソースを分けることもできる。  

スタックの設計図はCloudFormationテンプレートと呼ばれ、JSON形式かYAML形式で記述する。テンプレートを構成する要素としてはセクションと組み込み関数がある。

## 料金  
CloudFormationを使用して作成したAWSリソースに対しては手動で作成した場合と同様、料金が発生する。料金は実際に使用した分に対してのみ発生する  
  







# Elastic Beanstalk  
Java, .NET, PHP, Node.js, Python, Rubym Go, Dockerを使用して開発されたアプリケーションやサービスをApache、Nginx、Passenger、IISなど使い慣れたサーバーでデプロイおよびスケーリングするためのサービス。  

コードをアップロードするだけでElasticBeanstalkがキャパシティのプロビジョニング、ロードバランシング、AutoScalingからアプリケーションのヘルスモニタリングまでデプロイを自動的に処理する。同時に稼働しているAWSリソースの完全な制御を維持でき、いつでも基盤となるリソースにアクセスすることができる。  

ElasticBeanstalkはAWSにアプリケーションをデプロイするための最も早くて簡単な方法。

## EBの利用  
Elastic Beanstalkで構築できる構成は大きく次の2つ
- Webサーバー構成(ELB+ Auto Scaling+EC2)  
- Batchワーカー構成(SQS + Auto Scaling + EC2)  

EclipseからElastic Beanstalkの機能を利用するAWS Toolkit for Eclipseというツールが提供されている。またAWS CLIや各言語のSDKを使って環境構築することも可能。  

さらにEB専用のEB CLIというクライアントツールも提供されている。
  
Elastic Beanstalkではいくつかのデプロイ方式を提供しいるので、デプロイのための開発が不要になる  
  
## 料金 
アプリケーションの保存、実行に必要なAWSリソースに対してのみ料金が発生する。




# OpsWorks  
ChefやPuppetのマネージド型インスタンスを利用できるようになる構成管理サービス。ChefやPuppetはコードを使用してサーバーの構成を自動化できるようにするためのオートメーションプラットフォーム。ChefやPuppetを使用してEC2インスタンスやオンプレミスのコンピューティング環境でのサーバーの設定、デプロイ、管理を自動化できる。  

Chefはレシピと呼ばれるファイルにサーバー構成を定義し、ミドルウェアのインストールや設定を自動化するツール。  
Chefの利用方式には次の2つがある。  
- Chef Clientローカル方式：各サーバーがレシピを持ち自分自身にレシピを適用する  
- Chef Server/Client方式:マスターサーバーを用意し、レシピそのものや各サーバーへのレシピ適用状況を管理する  

## OpsWorksスタック  
Chef Clientローカル方式でChefを利用する場合は、OpsWorksスタックを利用する
- スタック:　OpsWorksのトップエンティティ。スタック単位の構成情報をJSON形式で保持する。  
- レイヤー: インスタンスの特性ごとにレイヤーを用意する。レイヤーに対してChefレシピをマッピングする  
またスタックをコピーすることも可能  

レイヤー内で起動したEC2インスタンスには、OpsWorksエージェントがインストールされる。  
   
## Ops Works for Chef Automate  
Chef AutomateというChefを統合的に利用するための機能がある。レシピが適用される各インスタンスをクライアントと呼び、それらとは別にクライアントを管理するマスターサーバーが存在するアーキテクチャを採用している。Ops Works Chef Automateを利用すると、Chef Automateサーバーが自動構築される。利用者側でChef Automateサーバーのプロビジョニングやインストール作業を行う必要がなく、Chef Automateサーバー自体のバックアップを行う機能なども標準提供されている  
  

  






# OpsWorks ElasticBeanstalk CloudFormation違い  
OpsWorksとCloudFormationはどちらもアプリケーションのモデル化、デプロイ、設定、管理、および関連アクティビティがサポートされる。違いは抽象化レベルと対象領域

CloudFormationが土台を作るサービスで、ほぼあらゆるAWSリソースのプロビジョニングと管理を、JSONベースのドメイン固有言語で行うことができる。CloudFormationの目的はAWSに汎用的な基本構成機能を提供することなので開発と運用については特にモデルを規定していない。 

一方、OpsWorksより高いレベルのサービスでIT管理者および運用志向の開発者に対して高い生産性と信頼性を持つDevOps環境を提供することに重点を置いている。スタックやれいたーといったコンセプトに基づく設定管理モデルを採用しており、デプロイ、モニタリング、自動スケーリング、オートメーションといった主要なアクティビティに対して統一された操作性を実現できる。  

OpsWorksとElasticBeanstalkを比較すると、OpsWorksは設定管理プラットフォームだがElasticBeanstalkはアプリケーション管理プラットフォームである。どちらでも運用は自動化されるが、対象のニーズと目的が異なる。ElasticBeanstalkはオペレーションについて心配せずにウェブアプリケーションをデプロイしたいと考えている開発者向けに設定されている。コードをアップロードするだけでキャパシティーのプロビジョニング、ロードバランシング、自動スケーリングからアプリケーションの状態のモニタリングまでデプロイが自動的に処理される。開発者側でインフラストラクチャやリソースの設定をすることなくアプリケーションが使用できるようになる。  

OpsWorksは高度なカスタマイズとオペレーションの制御が必要であるとお考えのIT管理者およびDevOpsエンジニア向けの統合された設定管理プラットフォーム。